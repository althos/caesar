package com.baiyi.caesar.util;

import com.baiyi.caesar.factory.jenkins.model.JobBuild;
import com.google.common.base.Splitter;

import java.util.List;

/**
 * @Author baiyi
 * @Date 2020/8/12 5:08 下午
 * @Version 1.0
 */
public class JobBuildUtils {

    public static JobBuild convert(String url){
        // https://cc2.ops.yangege.cn/job/CAESAR_caesar-web-prod/13/
        Splitter splitter =Splitter.on("/");
        List<String> list=splitter.splitToList(url);

        return JobBuild.builder()
                .jobUrl(url)
                .jobName(list.get(4))
                .buildNumber(Integer.parseInt(list.get(5)))
                .build();
    }
}
